# Maintainer info

TODO: document how to maintain this site and update the Eclipse hosted web.

- https://eclipse-embed-cdt.github.io/
- https://eclipse-embed-cdt.github.io/web-preview/

## Travis

The site is automatically generated by a Travis CI job.

- https://travis-ci.com/github/eclipse-embed-cdt/web-jekyll

Pushing to `master`
generates the main site, pushes to `develop` generates the preview.

## Prerequisites

The site is gnerated by [Jekyll](https://jekyllrb.com), which is written in
Ruby.

To test locally, install:

- [Ruby](https://www.ruby-lang.org/en/)
- [Bundler](https://bundler.io)

The Ruby plug-ins are listed in the Gemfile and can be automatically installed
by with `bundle install`.

To generate a local site and start a local server:

```sh
bundle exec jekyll serve --baseurl "" --destination _site_local --trace --draft
```

Add ` --force_polling` to the above if Jekyll is not detecting changes to files while serve is running.

## Quick copy/paste

Other useful commands:

```
bundle exec jekyll build

bundle exec htmlproofer --allow-hash-href --url-swap \^/web-preview/\:/ ./_site_local

bundle exec htmlproofer --allow-hash-href --url-swap \^/web-preview/\:/ --url-ignore /github.com/xpack/xpack.github.io/blob/master/ ./_site_local

bundle exec htmlproofer --allow-hash-href ./_site_local

bundle exec htmlproofer --allow-hash-href --http_status_ignore=429 ./_site_local
```
